{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "properties": {
    "interfaces": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Interface name"
          },
          "properties": {
            "type": "object",
            "patternProperties": {
              ".*": {
                "type": "string",
                "description": "Property name and type"
              }
            },
            "description": "Interface properties"
          },
          "extends": {
            "type": "array",
            "items": {
              "type": "string",
              "description": "Extended interfaces"
            },
            "description": "Extended interfaces"
          },
          "confidence": {
            "type": "number",
            "minimum": 0,
            "maximum": 1,
            "description": "Interface confidence"
          }
        },
        "required": ["name", "properties", "extends", "confidence"],
        "additionalProperties": false
      },
      "description": "Detected TypeScript interfaces"
    },
    "types": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Type name"
          },
          "definition": {
            "type": "string",
            "description": "Type definition"
          },
          "confidence": {
            "type": "number",
            "minimum": 0,
            "maximum": 1,
            "description": "Type confidence"
          }
        },
        "required": ["name", "definition", "confidence"],
        "additionalProperties": false
      },
      "description": "Detected TypeScript types"
    },
    "classes": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Class name"
          },
          "extends": {
            "type": "string",
            "description": "Extended class"
          },
          "implements": {
            "type": "array",
            "items": {
              "type": "string",
              "description": "Implemented interfaces"
            },
            "description": "Implemented interfaces"
          },
          "methods": {
            "type": "array",
            "items": {
              "type": "string",
              "description": "Class methods"
            },
            "description": "Class methods"
          },
          "confidence": {
            "type": "number",
            "minimum": 0,
            "maximum": 1,
            "description": "Class confidence"
          }
        },
        "required": ["name", "extends", "implements", "methods", "confidence"],
        "additionalProperties": false
      },
      "description": "Detected TypeScript classes"
    },
    "generics": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Generic name"
          },
          "constraints": {
            "type": "array",
            "items": {
              "type": "string",
              "description": "Generic constraints"
            },
            "description": "Generic constraints"
          },
          "confidence": {
            "type": "number",
            "minimum": 0,
            "maximum": 1,
            "description": "Generic confidence"
          }
        },
        "required": ["name", "constraints", "confidence"],
        "additionalProperties": false
      },
      "description": "Detected TypeScript generics"
    },
    "confidence": {
      "type": "number",
      "minimum": 0,
      "maximum": 1,
      "description": "Overall analysis confidence"
    },
    "reasoning": {
      "type": "string",
      "description": "Brief analysis explanation"
    }
  },
  "required": ["interfaces", "types", "classes", "generics", "confidence", "reasoning"],
  "additionalProperties": false
}