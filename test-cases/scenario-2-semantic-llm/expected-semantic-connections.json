{
  "description": "Expected semantic connections for scenario-2-semantic test case",
  "note": "These connections should be detected by semantic analysis (LFM2.5-Thinking) but NOT by static analysis",
  "connections": [
    {
      "sourceFile": "src/Player.js",
      "targetFile": "src/GameStore.js",
      "type": "shared_state",
      "severity": "high",
      "reason": "Player.js modifies window.gameState created by GameStore.js",
      "evidence": {
        "sourceCode": "window.gameState.score += points",
        "targetCode": "window.gameState = { score: 0, level: 1, ... }"
      },
      "expectedConfidence": 0.95
    },
    {
      "sourceFile": "src/Player.js",
      "targetFile": "src/UI.js",
      "type": "shared_state",
      "severity": "high",
      "reason": "Both files access window.gameState (Player writes, UI reads)",
      "evidence": {
        "sourceCode": "window.gameState.score += points",
        "targetCode": "window.gameState.score"
      },
      "expectedConfidence": 0.95
    },
    {
      "sourceFile": "src/UI.js",
      "targetFile": "src/GameStore.js",
      "type": "shared_state",
      "severity": "medium",
      "reason": "UI.js reads window.gameState created by GameStore.js",
      "evidence": {
        "sourceCode": "window.gameState.score",
        "targetCode": "window.gameState = { score: 0, level: 1, ... }"
      },
      "expectedConfidence": 0.90
    },
    {
      "sourceFile": "src/Analytics.js",
      "targetFile": "src/EventBus.js",
      "type": "event_listener",
      "severity": "high",
      "reason": "Analytics.js registers listeners on window.eventBus created by EventBus.js",
      "evidence": {
        "sourceCode": "window.eventBus.on('game:start', ...)",
        "targetCode": "window.eventBus = new EventBus()"
      },
      "expectedConfidence": 0.95
    },
    {
      "sourceFile": "src/GameEvents.js",
      "targetFile": "src/EventBus.js",
      "type": "event_listener",
      "severity": "high",
      "reason": "GameEvents.js emits events on window.eventBus created by EventBus.js",
      "evidence": {
        "sourceCode": "window.eventBus.emit('game:start', ...)",
        "targetCode": "window.eventBus = new EventBus()"
      },
      "expectedConfidence": 0.95
    },
    {
      "sourceFile": "src/GameEvents.js",
      "targetFile": "src/Analytics.js",
      "type": "event_listener",
      "severity": "medium",
      "reason": "GameEvents emits events that Analytics listens to (indirect connection via eventBus)",
      "evidence": {
        "sourceCode": "window.eventBus.emit('game:start', ...)",
        "targetCode": "window.eventBus.on('game:start', ...)"
      },
      "expectedConfidence": 0.85
    },
    {
      "sourceFile": "src/GameStore.js",
      "sideEffects": {
        "hasGlobalAccess": true,
        "accessesWindow": true,
        "modifiesGlobalState": true
      }
    },
    {
      "sourceFile": "src/Player.js",
      "sideEffects": {
        "hasGlobalAccess": true,
        "accessesWindow": true,
        "modifiesGlobalState": true
      }
    },
    {
      "sourceFile": "src/UI.js",
      "sideEffects": {
        "hasGlobalAccess": true,
        "accessesWindow": true,
        "modifiesDOM": true
      }
    },
    {
      "sourceFile": "src/EventBus.js",
      "sideEffects": {
        "hasGlobalAccess": true,
        "accessesWindow": true,
        "modifiesGlobalState": true
      }
    },
    {
      "sourceFile": "src/Analytics.js",
      "sideEffects": {
        "hasGlobalAccess": true,
        "accessesWindow": true,
        "makesNetworkCalls": true,
        "hasEventListeners": true
      }
    },
    {
      "sourceFile": "src/GameEvents.js",
      "sideEffects": {
        "hasGlobalAccess": true,
        "accessesWindow": true,
        "hasEventListeners": true
      }
    }
  ],
  "riskScores": {
    "src/Player.js": {
      "total": 7.5,
      "reason": "High side effects (modifies global state) + multiple semantic connections"
    },
    "src/UI.js": {
      "total": 6.5,
      "reason": "Modifies DOM + reads global state"
    },
    "src/Analytics.js": {
      "total": 5.0,
      "reason": "Makes network calls + event listeners"
    },
    "src/GameStore.js": {
      "total": 6.0,
      "reason": "Creates global state used by multiple files"
    },
    "src/EventBus.js": {
      "total": 5.5,
      "reason": "Creates global event bus used by multiple files"
    },
    "src/GameEvents.js": {
      "total": 4.0,
      "reason": "Emits events (medium impact)"
    }
  },
  "summary": {
    "totalConnections": 6,
    "by_type": {
      "shared_state": 3,
      "event_listener": 3
    },
    "by_severity": {
      "high": 4,
      "medium": 2
    },
    "filesWithSideEffects": 6,
    "highRiskFiles": 2
  }
}
