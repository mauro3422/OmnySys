# v0.9.74 - Architecture: Lazy Indexing and Silent Background Phases (2026-03-02)

## Resumen
Esta actualizaciÃ³n transformÃ³ la estrategia de inicializaciÃ³n del `unified-analysis`, separando la extracciÃ³n de Ã¡tomos en dos fases. Ahora el sistema arranca estructuralmente en menos de 5 segundos, delegando el peso de los anÃ¡lisis semÃ¡nticos profundos y NLP a un proceso silencioso en segundo plano.

## âš¡ InicializaciÃ³n Lazy y Background Workers
- **Phase 1 (Structural Boot):** IntegraciÃ³n de Tree-Sitter extrae exclusivametne la estructura de los archivos de forma sÃ­ncrona. Permite al usuario inicializar en milisegundos.
- **Phase 2 (Deep Semantic Backgrounding):** Un daemon interno (`_startPhase2BackgroundIndexer`) obtiene bloques de 20 archivos cada 5 segundos y los envÃ­a a los 10 _Worker Threads_ para procesar profundidad semÃ¡ntica, links de ASTs, y mÃ©tricas NLP sin bloquear el _Event Loop_ general.
- **Worker Concurrency Limit:** Incrementado el `DEFAULT_MAX_CONCURRENT` de 2 a 10 trabajos en paralelo ahora que las restricciones externas del LLM se desactivaron por completo, saturando el pool de nÃºcleos para tareas CPU-bound.

## ğŸ”‡ Silenciador de Ruido
Dado que el _Background Indexing_ trabaja perpetuamente tras cada cambio y escaneo, los _loggers_ centrales del orquestador producÃ­an gran cantidad de notificaciones molestas (decenas de `INFO` o timestamps) que arruinaban la experiencia en terminal.
- **Formato Limpio:** Eliminado el prefijo ISO string temporal en todos los `.info()` & `.debug()` vÃ­a `logger-formatters.js` para una lectura limpia de terminal.
- **Mute de Granularidad:** Re-categorizados logs transicionales como `[MODIFIED]`, inicializaciÃ³n de adaptadores SQLite locales `[Connection]`, operaciones de control atÃ³mico del cachÃ© (`ğŸš€ Starting atomic transaction`), y mÃ©tricas redundantes de SingleFile (`ğŸ’¾ Saved X atoms...`) a visibilidad **DEBUG**.
- **Barra de Progreso Visual:** Se eliminaron los pings individuales de `START analyze()` y `Analysis complete` por cada archivo. Ahora, el `queueing.js` emite una barra de progreso visual (e.g., `ğŸ“Š Phase 2: [=====>     ] 50%`) cada 50 archivos y en hitos iniciales para dar feedback inmediato sin inundar la terminal.
- **Mute de TelemetrÃ­a Interna:** Silenciados los mensajes de escritura de hashes de los workers (`ğŸ”‘ Worker X wrote Y file hashes`) en `unified-analysis.js` y las alertas redundantes de `[RepositoryFactory]`.

## ğŸ› Bugfixes Subyacentes
- **Doble ConcatenaciÃ³n Absolute Path:** Se corrigiÃ³ un crash de `ENOENT` donde `JobAnalyzer.js` generaba un doble target absoluto al enviar tareas asÃ­ncronas de Fase 2, solucionado gracias a verificaciones de `path.isAbsolute(filePath)`.
- **SQLite Missing Property Handler:** Parcheado un crash crÃ­tico durante el guardado fallback en Phase 2 (`Cannot read properties of undefined (reading 'isExported')`) mediante la filtraciÃ³n estricta de variables en los arrays `atoms` traÃ­dos desde SQLite.
- **Fix Semantic Crash (`undefined.name`):** Se agregÃ³ validaciÃ³n defensiva en `single-file.js` para evitar el crash `Cannot read properties of undefined (reading 'name')` cuando el sistema intenta mapear Ã¡tomos malformados o nulos en la base de datos durante el anÃ¡lisis de Phase 2.
