# v0.9.15 - Architecture Refactor: Graph to Core

## Overview

Moved graph and storage modules from layer-a-static to core/ to establish them as foundational components used by all layers.

## Changes

### Modules Moved

| From | To | Files |
|------|-----|-------|
| `src/layer-a-static/graph/` | `src/core/graph/` | 11+ files |
| `src/layer-a-static/storage/` | `src/core/storage/` | 16+ files |

### New Structure

```
src/core/
├── graph/
│   ├── index.js              # Public API
│   ├── types.js              # SystemMap, FileNode, etc.
│   ├── builders/
│   │   ├── system-map.js     # Graph construction
│   │   ├── function-links.js
│   │   └── export-index.js
│   ├── algorithms/
│   │   ├── cycle-detector.js # DFS
│   │   ├── transitive-deps.js
│   │   └── impact-analyzer.js
│   ├── resolvers/
│   └── utils/
├── storage/
│   ├── index.js
│   ├── atoms/
│   ├── molecules/
│   ├── files/
│   ├── setup/
│   └── utils/
└── index.js                  # Exports graph + storage
```

### Import Path Changes

- `#layer-a/graph/*` → `#core/graph/*`
- `#layer-a/storage/*` → `#core/storage/*`

### Contract Tests Added

- `tests/contracts/core/graph.contract.test.js` - 31 exports, 5 namespaces
- `tests/contracts/core/storage.contract.test.js` - 13 exports, 6 submodules

## Rationale

The graph is the **core data structure** of the system, used by:
- Layer A (static extraction feeds the graph)
- Layer B (semantic enrichment uses graph data)
- Layer C (queries via MCP use graph)

Moving to `core/` establishes it as foundational infrastructure.

## Tests

- 241 test files pass
- 2,959 tests pass
- 98 skipped (bugs pending)
