{
  "permissions": {
    "allow": [
      "Bash(npm install:*)",
      "Bash(node:*)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nInitial commit: Phase 1 - Layer A Complete\n\nOmnySys: Omniscient System for AI-Assisted Code Analysis\n\nPhase 1: Layer A - Static Analysis \\(Complete âœ“\\)\n- scanner.js: Filesystem scanning with glob patterns\n- parser.js: AST parsing with Babel \\(imports/exports/definitions\\)\n- resolver.js: Import path resolution \\(relative â†’ project-relative\\)\n- graph-builder.js: Dependency graph \\(bidirectional + transitive\\)\n- indexer.js: Pipeline orchestrator with CLI\n\nFeatures:\nâœ“ Detects file-level dependencies\nâœ“ Resolves imports across project\nâœ“ Builds complete dependency graph\nâœ“ Calculates transitive dependencies\nâœ“ Detects circular dependencies\n\nTest: Validated with scenario-1-simple-import\n- 3 files analyzed\n- 2 dependencies found\n- Graph matches expected output\n\nDocumentation:\n- README.md: Project overview\n- ARCHITECTURE.md: Technical design\n- ROADMAP.md: Development plan\n- GETTING_STARTED.md: Getting started guide\n\nNext phases:\n- Phase 2: Function-level tracking \\(Layer A v2\\)\n- Phase 2.5: AI Editor Integration\n- Phase 3: MCP Server \\(Layer C\\)\n- Phase 4: Semantic Analysis \\(Layer B\\)\n\nCo-Authored-By: Claude Haiku 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git remote add:*)",
      "Bash(git branch:*)",
      "Bash(git push:*)",
      "Bash(echo:*)",
      "Bash(git restore:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nPhase 2: Function-Level Tracking Implementation\n\nOmnySys: Omniscient System for AI-Assisted Code Analysis\n\nPhase 2: Layer A v2 - Function-Level Dependency Tracking \\(COMPLETE âœ“\\)\n\nNEW FEATURES:\nâœ“ Function-level extraction with metadata \\(name, line, params, isExported\\)\nâœ“ Function call tracking within individual functions\nâœ“ Cross-file function call resolution\nâœ“ Function linking graph \\(function_links array in systemMap\\)\nâœ“ Enhanced metadata \\(totalFunctions, totalFunctionLinks\\)\n\nIMPLEMENTATION CHANGES:\n\nparser.js \\(232 â†’ 350 lines\\):\n- Added functions array to FileInfo output\n- New findCallsInFunction\\(\\) helper for CallExpression traversal\n- New isExportedFunction\\(\\) helper for export checking\n- New getFileId\\(\\) helper for unique file ID generation\n- Function IDs format: FILEID:functionName \\(e.g., FI:functionA\\)\n\ngraph-builder.js \\(334 â†’ 410 lines\\):\n- New functions object mapping files to their functions\n- New function_links array tracking function-to-function calls\n- New findFunctionInResolution\\(\\) for cross-file call resolution\n- New countTotalFunctions\\(\\) for metadata calculation\n- Metadata enhanced with totalFunctions and totalFunctionLinks\n\nTEST VALIDATION:\nâœ“ scenario-1-simple-import: 5 functions extracted, 3 links detected\nâœ“ Cross-file call resolution working correctly\nâœ“ Line number tracking accurate\nâœ“ Export detection working\nâœ“ Backward compatibility maintained \\(file-level graph untouched\\)\n\nOUTPUT STRUCTURE:\n{\n  \"functions\": { \"file\": [{ id, name, line, endLine, params, isExported, calls }] },\n  \"function_links\": [{ from, to, type, line, file_from, file_to }]\n}\n\nBACKWARD COMPATIBILITY:\nâœ“ File-level dependencies preserved\nâœ“ Existing metadata unchanged\nâœ“ Transitive dependency calculation intact\nâœ“ Circular cycle detection working\n\nDOCUMENTATION:\n- Created CHANGELOG.md with complete version history\n- Updated PHASE-2-PLAN.md with implementation details\n- Both versions documented \\(v0.1.0 Phase 1, v0.2.0 Phase 2\\)\n\nNEXT PHASE:\nPhase 2.5: AI Editor Integration will use function_links for:\n- \"What functions depend on this?\"\n- \"What 's the impact of editing this function?\"\n- Risk assessment for changes\n\nStatus: Ready for Phase 2.5 \\(AI Editor\\) â†’\n\nCo-Authored-By: Claude Haiku 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nPhase 3: Automated Analysis & Reporting System\n\nOmnySys: Omniscient System for AI-Assisted Code Analysis\n\nPhase 3: Layer A v3 - Automated Code Quality Analysis \\(COMPLETE âœ“\\)\n\nTIER 1: BASIC DETECTION\nâœ“ Unused Exports: Detects functions that are exported but never imported\nâœ“ Orphan Files: Finds files with no dependencies \\(dead code or entry points\\)\nâœ“ Hotspots: Identifies functions called from many places \\(risk assessment\\)\nâœ“ Circular Dependencies: Detects cycles at function level \\(infinite loops\\)\nâœ“ Deep Dependency Chains: Finds Aâ†’Bâ†’Câ†’Dâ†’E patterns \\(impact analysis\\)\n\nTIER 2: ADVANCED ANALYSIS\nâœ“ Side Effect Markers: Pattern-based detection of functions with side effects\nâœ“ Reachability Analysis: Calculates % of code reachable from entry points\nâœ“ Coupling Analysis: Detects bidirectional dependencies \\(high coupling\\)\n\nQUALITY METRICS\nâœ“ Quality Score: 0-100 grade \\(A/B/C/D/F\\)\nâœ“ Issue Breakdown: Count of all detected problems\nâœ“ Automated Recommendations: Prioritized by severity \\(CRITICAL/HIGH/MEDIUM\\)\n\nIMPLEMENTATION:\n- New file: src/layer-a-static/analyzer.js \\(435 lines\\)\n- Integration: analyzer.js called from indexer.js \\(Paso 9\\)\n- Output: system-map-analysis.json \\(parallel to system-map.json\\)\n- Modularity: Each analysis in separate function \\(SRP principle\\)\n\nKEY FEATURES:\n1. No recursion/infinite loops - all analyses are independent\n2. Pattern-based side effect detection \\(init, setup, configure, etc\\)\n3. Reachability from likely entry points \\(index, main, app, etc\\)\n4. Automatic scoring prevents tunnel vision\n5. Recommendations ranked by priority\n\nTEST RESULTS:\nâœ“ scenario-1-simple-import\n  - Quality Score: 98/100 \\(A\\)\n  - Unused Exports: 2 detected\n  - Orphan Files: 0\n  - Critical Hotspots: 0\n  - Circular Deps: 0\n  - Reachability: 100%\n\nSOLVES TUNNEL VISION BY:\n- Finding unused code \\(reduce context\\)\n- Identifying critical functions \\(focus effort\\)\n- Detecting circular dependencies \\(architectural issues\\)\n- Calculating reachability \\(dead code identification\\)\n- Deep chains visibility \\(impact assessment\\)\n- Automatic prioritization \\(what matters most\\)\n\nMAINTAINS KISS+SOLID:\n- Each function does ONE thing\n- No shared state/side effects\n- No recursive calls\n- Modular and testable\n\nNEXT PHASE:\nPhase 2.5: AI Editor Integration\n- Use analyzer insights to make AI safer\n- \"This function is a hotspot with 23 callers - be careful\"\n- \"This change affects 15 downstream functions\"\n\nStatus: Ready for Phase 2.5 \\(AI Editor\\) âœ“\n\nCo-Authored-By: Claude Haiku 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(tree:*)",
      "WebFetch(domain:www.liquid.ai)",
      "Bash(cd:*)",
      "Bash(ls:*)",
      "Bash(git reset:*)",
      "Bash(find:*)",
      "Bash(test:*)",
      "Bash(start /B cmd /c \"src\\\\ai\\\\scripts\\\\start_brain_gpu.bat\")",
      "Bash(timeout /t 10 /nobreak)",
      "Bash(start_brain_gpu.bat)",
      "Bash(tasklist:*)",
      "Bash(findstr:*)",
      "Bash(cmd /c \"src\\\\ai\\\\scripts\\\\start_brain_gpu.bat\")",
      "Bash(cmd /c \"if exist src\\\\ai\\\\models\\\\LFM2.5-1.2B-Instruct-Q8_0.gguf \\(echo Model found\\) else \\(echo Model NOT found\\)\")",
      "Bash(powershell -NoProfile -ExecutionPolicy Bypass -Command \"cd ''c:\\\\Users\\\\mauro\\\\OneDrive\\\\Escritorio\\\\ðŸ“ PROYECTOS\\\\Desarrollo\\\\OmnySystem''; if \\(Test-Path ''src\\\\ai\\\\models\\\\LFM2.5-1.2B-Instruct-Q8_0.gguf''\\) { Write-Host ''âœ“ Model found'' } else { Write-Host ''âœ— Model NOT found'' }\")",
      "Bash(srcaiserverllama-server.exe:*)",
      "Bash(./src/ai/server/llama-server.exe:*)",
      "Bash(cmd.exe /c \"taskkill /IM llama-server.exe /F\")",
      "Bash(start cmd.exe /c \"src\\\\ai\\\\scripts\\\\start_brain_gpu.bat\")",
      "Bash(timeout /t 30 /nobreak)",
      "Bash(cmd.exe /c \"taskkill /F /IM llama-server.exe 2>nul\")",
      "Bash(src/ai/scripts/start_brain_gpu.bat)",
      "WebFetch(domain:docs.liquid.ai)",
      "Bash(cmd.exe /c \"taskkill /F /IM llama-server.exe && timeout /t 2 /nobreak >nul && start src\\\\ai\\\\scripts\\\\start_brain_gpu.bat\")",
      "Bash(})",
      "Bash(],)",
      "Bash(\"temperature\": 0.0,)",
      "Bash(\"max_tokens\": 200)",
      "Bash(} ')",
      "Bash(grep:*)",
      "Bash(start /B cmd /c \"src\\\\ai\\\\scripts\\\\start_brain_gpu.bat > nul 2>&1\")",
      "Bash(dir:*)",
      "Read(//c/**)",
      "Bash(del \"C:\\\\Dev\\\\OmnySystem\\\\src\\\\layer-c-memory\\\\mcp-server-sdk.js.corrupted\")",
      "Bash(del \"C:\\\\Dev\\\\OmnySystem\\\\src\\\\layer-c-memory\\\\mcp-server-sdk-fixed.js\")",
      "Bash(git status:*)",
      "Bash(git checkout:*)",
      "Bash(select:*)",
      "WebSearch",
      "Bash(npm test)",
      "Bash(if [ -f \"C:\\\\Dev\\\\OmnySystem\\\\AUTO_INSTALLATION.md\" ])",
      "Bash(then mv \"C:\\\\Dev\\\\OmnySystem\\\\AUTO_INSTALLATION.md\" \"C:\\\\Dev\\\\OmnySystem\\\\docs\\\\archive\"\"; echo \"MOVED\"; else echo \"NOT FOUND \")",
      "Bash(fi)",
      "Bash(netstat:*)",
      "Bash(wc:*)",
      "Bash(if exist \"%APPDATA%\\\\Claude\\\\claude_desktop_config.json\" type \"%APPDATA%\\\\Claude\\\\claude_desktop_config.json\")",
      "Bash(powershell -Command:*)",
      "Bash(timeout:*)",
      "Bash(taskkill:*)",
      "Bash(xargs kill:*)",
      "Bash(wmic process where \"name=''node.exe''\" get ProcessId,CommandLine)",
      "Bash(/tmp/kill-mcp.ps1 << 'EOF'\n$processes = Get-WmiObject Win32_Process -Filter \"name='node.exe'\"\nforeach \\($p in $processes\\) {\n  if \\($p.CommandLine -like '*mcp-server*'\\) {\n    Write-Host \"Killing PID $\\($p.ProcessId\\)\"\n    Stop-Process -Id $p.ProcessId -Force\n  }\n}\nEOF)",
      "Bash(powershell -ExecutionPolicy Bypass -File:*)",
      "Bash(git rm:*)",
      "Bash(cmd.exe /c \"dir C:\\\\Dev\\\\OmnySystem\\\\src\")",
      "Bash(git -C \"C:/Dev/OmnySystem\" rm \"src/shared/ground-truth-validator.js\" \"src/shared/data-integrity-validator.js\")",
      "Bash(git -C \"C:/Dev/OmnySystem\" grep -rl \"cache/manager/constants\" -- \"src/**/*.js\")",
      "Bash(git -C \"C:/Dev/OmnySystem\" grep -l \"cache/manager/constants\" -- \"*.js\")",
      "Bash(git -C \"C:/Dev/OmnySystem\" rm \"src/layer-c-memory/mcp/tools/lib/ast-analyzer.js\" \"src/layer-c-memory/shadow-registry/lineage-tracker.js\")",
      "Bash(git -C \"C:/Dev/OmnySystem\" rm \"src/validation/core/validation-result.js\" \"src/validation/core/validation-engine.js\" \"src/validation/core/rule-registry.js\")",
      "Bash(git -C \"C:/Dev/OmnySystem\" status --short)",
      "Bash(git -C \"C:/Dev/OmnySystem\" status --short src/shared/)",
      "Bash(git -C \"C:/Dev/OmnySystem\" status --short -- \"src/shared/utils/\")",
      "Bash(git -C \"C:/Dev/OmnySystem\" status)",
      "Bash(cmd /c:*)",
      "Bash(git diff-tree:*)",
      "Bash(git -C /c/Dev/OmnySystem log --oneline -5)",
      "Bash(git -C /c/Dev/OmnySystem log --oneline)",
      "Bash(git -C C:/Dev/OmnySystem log --oneline -- tests/unit/cli/commands/ai.test.js)"
    ],
    "additionalDirectories": [
      "c:\\Users\\mauro\\OneDrive\\Escritorio\\ðŸ“ PROYECTOS\\Desarrollo\\aver"
    ]
  },
  "enableAllProjectMcpServers": true,
  "enabledMcpjsonServers": [
    "omnysys"
  ]
}
